<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Visualization · Controlz.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/flux.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Controlz.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Controlz.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Controlz</a></li><li><a class="tocitem" href="../tfs/">Transfer Functions</a></li><li><a class="tocitem" href="../sim/">Simulation</a></li><li class="is-active"><a class="tocitem" href>Visualization</a><ul class="internal"><li><a class="tocitem" href="#poles-and-zeros-of-a-transfer-function"><span>poles and zeros of a transfer function</span></a></li><li><a class="tocitem" href="#response-of-a-system-to-an-input"><span>response of a system to an input</span></a></li><li><a class="tocitem" href="#Nyquist-diagram"><span>Nyquist diagram</span></a></li><li><a class="tocitem" href="#Bode-plot"><span>Bode plot</span></a></li><li><a class="tocitem" href="#Root-locus-plot"><span>Root locus plot</span></a></li><li><a class="tocitem" href="#hipster-plot-theme"><span>hipster plot theme</span></a></li><li><a class="tocitem" href="#detailed-docs"><span>detailed docs</span></a></li></ul></li><li><a class="tocitem" href="../controls/">Control systems</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Visualization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Visualization</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SimonEnsemble/Controlz.jl/blob/master/docs/src/viz.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h1><h2 id="poles-and-zeros-of-a-transfer-function"><a class="docs-heading-anchor" href="#poles-and-zeros-of-a-transfer-function">poles and zeros of a transfer function</a><a id="poles-and-zeros-of-a-transfer-function-1"></a><a class="docs-heading-anchor-permalink" href="#poles-and-zeros-of-a-transfer-function" title="Permalink"></a></h2><pre><code class="language-julia">g = (s + 2) / (s^2 + 1/4)
viz_poles_and_zeros(g)</code></pre><p><img src="../example_poles_and_zeros.png" alt/></p><h2 id="response-of-a-system-to-an-input"><a class="docs-heading-anchor" href="#response-of-a-system-to-an-input">response of a system to an input</a><a id="response-of-a-system-to-an-input-1"></a><a class="docs-heading-anchor-permalink" href="#response-of-a-system-to-an-input" title="Permalink"></a></h2><pre><code class="language-julia">g = 4 / (4 * s ^ 2 + 0.8 * s + 1)
U = 1 / s
Y = g * U
data = simulate(Y, (0.0, 50.0))
viz_response(data, plot_title=&quot;SO underdamped step response&quot;)</code></pre><p><img src="../SO_underdamped_step_response.png" alt/></p><h2 id="Nyquist-diagram"><a class="docs-heading-anchor" href="#Nyquist-diagram">Nyquist diagram</a><a id="Nyquist-diagram-1"></a><a class="docs-heading-anchor-permalink" href="#Nyquist-diagram" title="Permalink"></a></h2><pre><code class="language-julia">g = 1 / (s^2 + s + 1)
nyquist_diagram(g)</code></pre><p><img src="../example_nyquist.png" alt/></p><h2 id="Bode-plot"><a class="docs-heading-anchor" href="#Bode-plot">Bode plot</a><a id="Bode-plot-1"></a><a class="docs-heading-anchor-permalink" href="#Bode-plot" title="Permalink"></a></h2><pre><code class="language-julia">g = 3 / (s + 1)
bode_plot(g, log10_ω_min=-4.0, log10_ω_max=4.0, nb_pts=300)</code></pre><p><img src="../example_bode.png" alt/></p><p>the range of frequencies presented is determined by <code>log10_ω_min</code> and <code>log10_ω_max</code>. the resolution of the Bode plot is determined by <code>nb_pts</code>.</p><p>see <a href="../tfs/#Controlz.gain_phase_margins"><code>gain_phase_margins</code></a> to compute the gain and phase margins and the critical and gain crossover frequencies.</p><h2 id="Root-locus-plot"><a class="docs-heading-anchor" href="#Root-locus-plot">Root locus plot</a><a id="Root-locus-plot-1"></a><a class="docs-heading-anchor-permalink" href="#Root-locus-plot" title="Permalink"></a></h2><pre><code class="language-julia">g_ol = 4 / (s + 3) / (s + 2) / (s + 1)
root_locus(g_ol)</code></pre><p><img src="../example_root_locus.png" alt/></p><h2 id="hipster-plot-theme"><a class="docs-heading-anchor" href="#hipster-plot-theme">hipster plot theme</a><a id="hipster-plot-theme-1"></a><a class="docs-heading-anchor-permalink" href="#hipster-plot-theme" title="Permalink"></a></h2><p>invoke the hipster plot theme used to make plots for this documentation by:</p><pre><code class="language-julia">using PyPlot
PyPlot.matplotlib.style.use(&quot;https://raw.githubusercontent.com/SimonEnsemble/Controlz.jl/master/src/hipster.mplstyle&quot;)</code></pre><h2 id="detailed-docs"><a class="docs-heading-anchor" href="#detailed-docs">detailed docs</a><a id="detailed-docs-1"></a><a class="docs-heading-anchor-permalink" href="#detailed-docs" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Controlz.viz_poles_and_zeros" href="#Controlz.viz_poles_and_zeros"><code>Controlz.viz_poles_and_zeros</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_poles_and_zeros(tf)</code></pre><p>plot the zeros and poles of the transfer function <code>tf</code> in the complex plane.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/22a2fe3fa49d7692b07ee06cd28b1681c9305f08/src/viz.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.viz_response" href="#Controlz.viz_response"><code>Controlz.viz_response</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_response(data, 
             plot_title=&quot;&quot;, plot_xlabel=&quot;time, t&quot;, 
             plot_ylabel=&quot;output, y(t)&quot;,
             savename=nothing)</code></pre><p>plot <code>data[:, :output]</code> vs. <code>data[:, :t]</code> to visualize the response of a system to an input.  typically the data frame, <code>data</code>, is returned from <a href="../sim/#Controlz.simulate"><code>simulate</code></a>.</p><p>note that PyPlot.jl (matplotlib) commands can be invoked after <code>viz_response</code> to make further changes to the figure panel. e.g. <code>xlim([0, 1])</code> can be applied after <code>viz_response</code>.</p><p><strong>Arguments</strong></p><ul><li><code>data::DataFrame</code>: data frame of time series data, containing a <code>:t</code> column for times and <code>:output</code> column for the outputs.</li><li><code>plot_title::Union{String, LaTeXString}</code>: title of plot</li><li><code>plot_xlabel::Union{String, LaTeXString}</code>: x-label</li><li><code>plot_ylabel::Union{String, LaTeXString}</code>: y-label</li><li><code>savename::Union{Nothing, String}</code>: filename to save as a figure in .png format (dpi 250).</li></ul><p><strong>Example</strong></p><pre><code class="language-none">g = 4 / (4 * s ^ 2 + 0.8 * s + 1)
u = 1 / s
data = simulate(g * u, (0.0, 50.0))
viz_response(data)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/22a2fe3fa49d7692b07ee06cd28b1681c9305f08/src/viz.jl#L6-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.nyquist_diagram" href="#Controlz.nyquist_diagram"><code>Controlz.nyquist_diagram</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">nyquist_diagram(tf, nb_pts=500, ω_max=10.0)</code></pre><p>plot the Nyquist diagram for a transfer function <code>tf</code> to visualize its frequency response. <code>s=-1</code> is plotted as a red <code>+</code>. <code>nb_pts</code> changes the resolution. <code>ω_max</code> gives maximum frequency considered.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/22a2fe3fa49d7692b07ee06cd28b1681c9305f08/src/viz.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.bode_plot" href="#Controlz.bode_plot"><code>Controlz.bode_plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">axs = bode_plot(tf, log10_ω_min=-4.0, log10_ω_max=4.0, nb_pts=300)</code></pre><p>draw the Bode plot of a transfer function <code>tf</code> to visualize its frequency response. returns the two axes of the plot for further tuning via <code>matplotlib</code> commands.</p><p>adjust the range of frequencies that the Bode plot presents with <code>log10_ω_min</code> and <code>log10_ω_max</code>. increase the resolution of the Bode plot with <code>nb_pts</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/22a2fe3fa49d7692b07ee06cd28b1681c9305f08/src/viz.jl#L171-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.root_locus" href="#Controlz.root_locus"><code>Controlz.root_locus</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">root_locus(g_ol, max_mag_Kc=10.0, nb_pts=500)</code></pre><p>visualize the root locus plot of an open-loop transfer function <code>g_ol</code>.</p><p><strong>Arguments</strong></p><ul><li><code>g_ol::TransferFunction</code>: the open-loop transfer function of the closed loop system</li><li><code>max_mag_Kc::Float64=10.0</code>: the maximum magnitude by which the gain of <code>g_ol</code> is    scaled in order to see the roots traversing the plane</li><li><code>nb_pts::Int=500</code>: the number of gains to explore. increase for higher resolution.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/22a2fe3fa49d7692b07ee06cd28b1681c9305f08/src/viz.jl#L100-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.mk_gif" href="#Controlz.mk_gif"><code>Controlz.mk_gif</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mk_gif(data, plot_title=&quot;&quot;, plot_xlabel=&quot;time, t&quot;, 
             plot_ylabel=&quot;output, y(t)&quot;,
             savename=&quot;response&quot;)</code></pre><p>make a .gif of the process response. <code>data</code> is a data frame with two columns, <code>:t</code> and <code>:output</code>, likely returned from <a href="../sim/#Controlz.simulate"><code>simulate</code></a>. accepts same arguments as <a href="#Controlz.viz_response"><code>viz_response</code></a>. ImageMagick must be installed to create the .gif. the .gif is saved as a file <code>savename</code>.</p><p><strong>Arguments</strong></p><ul><li><code>data::DataFrame</code>: data frame of time series data, containing a <code>:t</code> column for times and <code>:output</code> column for the outputs.</li><li><code>plot_title::Union{String, LaTeXString}</code>: title of plot</li><li><code>plot_xlabel::Union{String, LaTeXString}</code>: x-label</li><li><code>plot_ylabel::Union{String, LaTeXString}</code>: y-label</li><li><code>savename::String</code>: filename to save as a .gif. .gif extension automatically appended if not provided.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/22a2fe3fa49d7692b07ee06cd28b1681c9305f08/src/viz.jl#L214-L231">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../sim/">« Simulation</a><a class="docs-footer-nextpage" href="../controls/">Control systems »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 23 April 2021 05:43">Friday 23 April 2021</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
