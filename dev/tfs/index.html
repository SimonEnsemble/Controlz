<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Transfer Functions · Controlz.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/flux.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Controlz.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Controlz.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Controlz</a></li><li class="is-active"><a class="tocitem" href>Transfer Functions</a><ul class="internal"><li><a class="tocitem" href="#constructing-a-transfer-function-1"><span>constructing a transfer function</span></a></li><li><a class="tocitem" href="#time-delays-1"><span>time delays</span></a></li><li><a class="tocitem" href="#zeros,-poles,-k-factor-representation-1"><span>zeros, poles, k-factor representation</span></a></li><li><a class="tocitem" href="#transfer-function-algebra-1"><span>transfer function algebra</span></a></li><li><a class="tocitem" href="#evaluate-a-transfer-function-at-a-complex-number-1"><span>evaluate a transfer function at a complex number</span></a></li><li><a class="tocitem" href="#zero-frequency-gain-of-a-transfer-function-1"><span>zero-frequency gain of a transfer function</span></a></li><li><a class="tocitem" href="#poles,-zeros,-and-zero-frequency-gain-of-a-transfer-function-1"><span>poles, zeros, and zero-frequency gain of a transfer function</span></a></li><li><a class="tocitem" href="#cancel-poles-and-zeros-1"><span>cancel poles and zeros</span></a></li><li><a class="tocitem" href="#detailed-docs-1"><span>detailed docs</span></a></li></ul></li><li><a class="tocitem" href="../sim/">Simulation</a></li><li><a class="tocitem" href="../viz/">Visualization</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Transfer Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Transfer Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SimonEnsemble/Controlz.jl/blob/master/docs/src/tfs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="transfer-functions-1"><a class="docs-heading-anchor" href="#transfer-functions-1">transfer functions</a><a class="docs-heading-anchor-permalink" href="#transfer-functions-1" title="Permalink"></a></h1><p>the response [output <span>$Y(s)$</span>] of a linear, time-invariant system to any input [<span>$U(s)$</span>] is characterized by a transfer function <span>$g(s)=Y(s)/U(s)$</span>.</p><h2 id="constructing-a-transfer-function-1"><a class="docs-heading-anchor" href="#constructing-a-transfer-function-1">constructing a transfer function</a><a class="docs-heading-anchor-permalink" href="#constructing-a-transfer-function-1" title="Permalink"></a></h2><p>we use a data structure, <code>TransferFunction</code>, to represent a transfer function. for example, consider the transfer function <span>$g(s)=\dfrac{5s+1}{s^2 + 4s+5}$</span>.</p><p>we can construct <span>$g(s)$</span> in an intuitive way that resembles the algebraic expression:</p><pre><code class="language-julia">g = (5 * s + 1) / (s ^ 2 + 4 * s + 5) # way 1</code></pre><p>alternatively, we can construct a <code>TransferFunction</code> using the coefficients associated with the powers of <span>$s$</span> in the numerator and denominator polynomials, respectively, of <span>$g(s)$</span>. The coefficients of the highest powers go first.</p><pre><code class="language-julia">g = TransferFunction([5, 1], [1, 4, 5]) # way 2</code></pre><p>note that we defined <code>s</code> such that <code>s == TransferFunction([1, 0], [1])</code>.</p><p>as rational functions associated with a time delay, each <code>TransferFunction</code> data structure has a <code>numerator</code> (a polynomial in <code>:s</code>), <code>denominator</code> (a polynomial in <code>:s</code>), and <code>time_delay</code> (a number) attribute. access these attributes as follows:</p><pre><code class="language-julia">g.numerator # 5s + 1, a `Poly`
g.denominator # s² + 4s + 5, a `Poly`
g.time_delay # 0.0, a `Float64`</code></pre><p><code>g.numerator</code> and <code>g.denominator</code> are <code>Poly</code> types from the package <a href="https://github.com/JuliaMath/Polynomials.jl">Polynomials.jl</a>.</p><h2 id="time-delays-1"><a class="docs-heading-anchor" href="#time-delays-1">time delays</a><a class="docs-heading-anchor-permalink" href="#time-delays-1" title="Permalink"></a></h2><p>add a time delay to a transfer function as follows. </p><pre><code class="language-julia">θ = 2.0 # time delay
g = 3 / (2 * s + 1) * exp(-θ * s) # way 1
g = TransferFunction([3], [2, 1], θ) # way 2</code></pre><p>the resulting transfer function <code>g</code> represents: <span>$g(s)=\dfrac{3}{2s+1}e^{-2s}$</span>.</p><h2 id="zeros,-poles,-k-factor-representation-1"><a class="docs-heading-anchor" href="#zeros,-poles,-k-factor-representation-1">zeros, poles, k-factor representation</a><a class="docs-heading-anchor-permalink" href="#zeros,-poles,-k-factor-representation-1" title="Permalink"></a></h2><p>we can write any transfer function <span>$g(s)$</span> in terms of its poles (<span>$p_j$</span>), zeros (<span>$z_j$</span>), k-factor (<span>$k$</span>), and time delay (<span>$\theta$</span>):</p><div>\[g(s)=k\dfrac{\Pi_j (s-z_j)}{\Pi_j(s-p_j)}e^{-\theta s}\]</div><p>the scalar factor <span>$k$</span> allows us to uniquely specify a transfer function in terms of its poles, zeros, and time delay. note that the <span>$k$</span>-factor is not equal to the zero-frequency gain.</p><p>for example:</p><div>\[g(s)=\dfrac{5s+1}{s^2 + 4s+5}=5\dfrac{(s+1/5)}{(s+2+i)(s+2-i)}\]</div><h4 id="construting-a-transfer-function-from-its-zeros,-poles-and-k-factor-1"><a class="docs-heading-anchor" href="#construting-a-transfer-function-from-its-zeros,-poles-and-k-factor-1">construting a transfer function from its zeros, poles and k-factor</a><a class="docs-heading-anchor-permalink" href="#construting-a-transfer-function-from-its-zeros,-poles-and-k-factor-1" title="Permalink"></a></h4><pre><code class="language-julia">g = zeros_poles_k([-1/5], [-2 + im, -2 - im], 5.0, time_delay=0.0)  # way 3</code></pre><p>the <code>im</code> is the imaginary number <span>$i$</span>. see the <a href="https://docs.julialang.org/en/v1/manual/complex-and-rational-numbers/">Julia docs on complex numbers</a>.</p><h4 id="computing-the-poles,-zeros,-and-k-factor-of-a-transfer-function-1"><a class="docs-heading-anchor" href="#computing-the-poles,-zeros,-and-k-factor-of-a-transfer-function-1">computing the poles, zeros, and k-factor of a transfer function</a><a class="docs-heading-anchor-permalink" href="#computing-the-poles,-zeros,-and-k-factor-of-a-transfer-function-1" title="Permalink"></a></h4><pre><code class="language-none">g = (5 * s + 1) / (s ^ 2 + 4 * s + 5)
zeros_poles_k(g) # [-0.2], [-2-im, -2+im], 5</code></pre><h2 id="transfer-function-algebra-1"><a class="docs-heading-anchor" href="#transfer-function-algebra-1">transfer function algebra</a><a class="docs-heading-anchor-permalink" href="#transfer-function-algebra-1" title="Permalink"></a></h2><p>we can add <code>+</code>, subject <code>-</code>, multiply <code>*</code>, and divide <code>/</code> transfer functions.</p><pre><code class="language-julia">g1 = 3 / (s + 2)
g2 = 1 / (s + 4)

g_product = g1 * g2 # 3 / (s^2 + 6s + 8)

g_sum = g1 + g2 # (4s + 14) / (s^2 + 6s + 8)</code></pre><h2 id="evaluate-a-transfer-function-at-a-complex-number-1"><a class="docs-heading-anchor" href="#evaluate-a-transfer-function-at-a-complex-number-1">evaluate a transfer function at a complex number</a><a class="docs-heading-anchor-permalink" href="#evaluate-a-transfer-function-at-a-complex-number-1" title="Permalink"></a></h2><p>for example, to evaluate <span>$g(s)=\dfrac{4}{s+2}$</span> at <span>$s=1-i$</span>:</p><pre><code class="language-julia">g = 4 / (s + 2)
evaluate(g, 2 * im) # 1 - im</code></pre><h2 id="zero-frequency-gain-of-a-transfer-function-1"><a class="docs-heading-anchor" href="#zero-frequency-gain-of-a-transfer-function-1">zero-frequency gain of a transfer function</a><a class="docs-heading-anchor-permalink" href="#zero-frequency-gain-of-a-transfer-function-1" title="Permalink"></a></h2><p>compute the zero-frequency gain of a transfer function <span>$g(s)$</span>, which is <span>$g(s)$</span> evaluated at <span>$s=0$</span>, as follows:</p><pre><code class="language-julia">g = (5 * s + 1) / (s ^ 2 + 4 * s + 5)
zero_frequency_gain(g) # 0.2</code></pre><p>the zero-frequency gain is the ratio of the steady state output value to the steady state input value (e.g., consider a step input). note that the zero-frequency gain could be infinite or zero, which is why we do not have a function to construct a transfer function from its zeros, poles, and <em>zero-frequency gain</em>.</p><h2 id="poles,-zeros,-and-zero-frequency-gain-of-a-transfer-function-1"><a class="docs-heading-anchor" href="#poles,-zeros,-and-zero-frequency-gain-of-a-transfer-function-1">poles, zeros, and zero-frequency gain of a transfer function</a><a class="docs-heading-anchor-permalink" href="#poles,-zeros,-and-zero-frequency-gain-of-a-transfer-function-1" title="Permalink"></a></h2><p>compute the poles, zeros, and zero-frequency gain of a transfer function all at once as follows:</p><pre><code class="language-julia">g = (5 * s + 5) / (s ^ 2 + 4 * s + 5)
z, p, gain = zeros_poles_gain(g)
# z = [-1.0]
# p = [-2-im, -2+im]
# gain  = 1.0</code></pre><h2 id="cancel-poles-and-zeros-1"><a class="docs-heading-anchor" href="#cancel-poles-and-zeros-1">cancel poles and zeros</a><a class="docs-heading-anchor-permalink" href="#cancel-poles-and-zeros-1" title="Permalink"></a></h2><p>cancel pairs of identical poles and zeros in a transfer function as follows:</p><pre><code class="language-none">g = s * (s+1) / ((s+3) * s * (s+1) ^ 2)
pole_zero_cancellation(g) # 1 / ((s+3) * (s+1))</code></pre><p>note that this cancellation is not done automatically.</p><p>under the hood, we compare all pairs of poles and zeros to look for identical pairs via <code>isapprox</code>. after removing identical pole-zero pairs, we reconstruct the transfer function from the remaining poles, zeros, and k-factor. we ensure that the coefficients in the resulting rational function are real.</p><h2 id="detailed-docs-1"><a class="docs-heading-anchor" href="#detailed-docs-1">detailed docs</a><a class="docs-heading-anchor-permalink" href="#detailed-docs-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Controlz.TransferFunction" href="#Controlz.TransferFunction"><code>Controlz.TransferFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">tf = TransferFunction([1, 2], [3, 5, 8])
tf = TransferFunction([1, 2], [3, 5, 8], 3.0)</code></pre><p>Construct a transfer function representing a linear, time-invariant system.</p><p><strong>Example</strong></p><p>construct the transfer function:</p><div>\[G(s) = \frac{4e^{-2.2s}}{2s+1}\]</div><pre><code class="language-none">julia&gt; tf = TransferFunction([4], [2, 1], 2.2)</code></pre><p><strong>Attributes</strong></p><ul><li><code>numerator::Poly</code>: the polynomial in the numerator of the transfer function</li><li><code>denominator::Poly</code>: the polynomial in the denominator of the transfer function</li><li><code>time_delay::Float64</code>: the associated time delay</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L3-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.zero_frequency_gain" href="#Controlz.zero_frequency_gain"><code>Controlz.zero_frequency_gain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">K = zero_frequency_gain(tf)</code></pre><p>Compute the (signed) zero frequency gain of a transfer function <span>$g(s)$</span>, which is the value of the transfer function at <span>$s=0$</span>. &quot;It represents the ratio of the steady state value of the output with respect to a step input&quot; <a href="http://www.cds.caltech.edu/~murray/books/AM05/pdf/am06-xferfcns_16Sep06.pdf">source</a></p><p><strong>Arguments</strong></p><ul><li><code>tf::TransferFunction</code>: the transfer function</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L138-L146">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.zeros_poles_gain" href="#Controlz.zeros_poles_gain"><code>Controlz.zeros_poles_gain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">z, p, gain = zeros_poles_gain(tf)</code></pre><p>Compute the zeros, poles, and zero-frequency gain of a transfer function.</p><ul><li>the zeros are the zeros of the numerator of the transfer function.</li><li>the poles are the zeros of the denominator of the transfer function.</li><li>the zero-frequency gain is the transfer function evaluated at <span>$s=0$</span></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L186-L194">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.zeros_poles_k" href="#Controlz.zeros_poles_k"><code>Controlz.zeros_poles_k</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia"># compute the zeros, poles, and k-factor of a transfer function
z, p, k = zeros_poles_k(tf)
# construct a transfer function from its zeros, poles, and k-factor
tf = zeros_poles_k(z, p, k, time_delay=0.0)</code></pre><p>the representation of a transfer function in this context is:</p><div>\[g(s)=k\dfrac{\Pi_j (s-z_j)}{\Pi_j (s-p_j)}\]</div><p>where <span>$z_j$</span> is zero <span>$j$</span>, <span>$p_j$</span> is pole <span>$j$</span>, and <span>$k$</span> is a constant factor (not equal to the zero-frequency gain) that uniquely specifies the transfer function.</p><ul><li>the zeros are the zeros of the numerator of the transfer function.</li><li>the poles are the zeros of the denominator of the transfer function.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L149-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.pole_zero_cancellation" href="#Controlz.pole_zero_cancellation"><code>Controlz.pole_zero_cancellation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tf = pole_zero_cancellation(tf, verbose=false)</code></pre><p>Find pairs of identical poles and zeros and return a new transfer function with the appropriate poles and zeros cancelled.  This is achieved by comparing the poles and zeros with <code>isapprox</code>.</p><p><strong>Arguments</strong></p><ul><li><code>tf::TransferFunction</code>: the transfer function</li><li><code>verbose::Bool=false</code>: print off which poles, zeros are cancelled.</li></ul><p><strong>Example</strong></p><pre><code class="language-none">julia&gt; tf = s * (s - 1) / (s * (s + 1))
julia&gt; pole_zero_cancellation(tf) # (s-1)/(s+1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L228-L243">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.evaluate" href="#Controlz.evaluate"><code>Controlz.evaluate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">evaluate(tf, z)</code></pre><p>Evaluate a <code>TransferFunction</code>, <code>tf</code>, at a particular number <code>z</code>.</p><p><strong>Examples</strong></p><pre><code class="language-none">julia&gt; tf = TransferFunction([1], [3, 1])
julia&gt; evaluate(tf, 1.0) # 0.25
julia&gt; evaluate(tf, 2.0 + 3.0im) # also takes imaginary numbers as input</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L197-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.proper" href="#Controlz.proper"><code>Controlz.proper</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">proper(tf)</code></pre><p>Return <code>true</code> if transfer function <code>tf</code> is proper and <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L213-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.strictly_proper" href="#Controlz.strictly_proper"><code>Controlz.strictly_proper</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">strictly_proper(tf)</code></pre><p>Return <code>true</code> if transfer function <code>tf</code> is strictly proper and <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/tf.jl#L220-L224">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Controlz.characteristic_polynomial" href="#Controlz.characteristic_polynomial"><code>Controlz.characteristic_polynomial</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">p = characteristic_polynomial(g_ol)</code></pre><p>Determine the characteristic polynomial associated with open loop transfer function <code>g_ol</code>.</p><p>The characteristic polynomial is <span>$1+g_ol(s)$</span>. The roots of the characteristic polynomial determine the character of the response of the closed loop system to bounded inputs.</p><p><strong>Arguments</strong></p><ul><li><code>g_ol::TransferFunction</code>: open loop transfer function</li></ul><p><strong>Returns</strong></p><p>a polynomial of type <code>Poly</code></p><p><strong>Example</strong></p><pre><code class="language-none">julia&gt; g_ol = 4 / (s + 3) / (s + 2) / (s + 1)
julia&gt; characteristic_polynomial(g_ol) # s³ + 6s² + 11s + 10, a `Poly`</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SimonEnsemble/Controlz.jl/blob/6a35c18c2712e8b1a08a7d7e98e86d59a09affc0/src/systems.jl#L1-L19">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>zpk_form</code>. Check Documenter&#39;s build log for details.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Controlz</a><a class="docs-footer-nextpage" href="../sim/">Simulation »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 23 December 2019 21:11">Monday 23 December 2019</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
